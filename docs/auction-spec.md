# 🔨 1단계: 실시간 가치관 경매 시스템 상세 명세

## 1. DB 연동 (Supabase)
- **Table:** `auction_items`, `bids`, `users`
- **Logic:** 1. 입찰 시 `bids` 테이블에 로그 삽입.
  2. `auction_items`의 `current_bid`와 `highest_bidder_id`를 업데이트.
  3. 입찰자의 `users.balance`에서 입찰 금액만큼 즉시 차감 (Transaction 처리 권장).

## 2. 실시간 기능 (Realtime)
- `supabase.channel('auction')`을 사용하여 `auction_items` 테이블의 변경 사항을 실시간 구독.
- 누군가 입찰하면 모든 참가자의 화면에 '현재 최고가'와 '낙찰 후보자'가 즉시 업데이트되어야 함.

## 3. 예외 처리 (Strict)
- **잔액 부족:** 입찰 금액이 내 `balance`보다 크면 입찰 불가 (Alert 표시).
- **최저가 미달:** 입찰 금액이 `current_bid`보다 낮거나 같으면 입찰 불가.
- **중복 입찰:** 본인이 이미 최고 입찰자인 경우 연속 입찰 제한.

## 4. UI/UX 구성
- 상단: 나의 현재 잔액 (실시간 업데이트)
- 중앙: 현재 경매 중인 가치관 카드 (예: "다정함", "키")
- 하단: 입찰 금액 입력창 및 [입찰하기] 버튼
[필수 노출 문구]
"본인의 연애 가치관과 가장 유사하다고 생각한다면 반드시 쟁취하세요!"
(이 문구는 경매 카드가 바뀔 때마다 카드 바로 위에 강조되어 나타나야 함)

## 5. 진행 로직 (Process Flow)
- **준비 단계:** 유저는 1000만원 잔액을 가진 상태로 대기. 전체 가치관 리스트 확인 가능.
- **진행 단계:** 1. 관리자가 특정 아이템 '시작' 클릭 -> 해당 아이템만 `active` 상태로 변경.
  2. 유저 화면에 실시간으로 `active` 아이템 카드 등장.
  3. 유저는 100만원 단위로 입찰. 입찰 시 즉시 잔액 차감.
  4. 관리자가 '종료' 클릭 -> 아이템 `finished` 상태로 변경 및 최고 입찰자 확정.
- **결과 단계:** 모든 경매 종료 후 '최종 결과 발표' 클릭 시 유저별 낙찰 리스트 시각화.